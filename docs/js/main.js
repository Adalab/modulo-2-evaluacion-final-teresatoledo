const l=document.querySelector(".js-searchInput"),S=document.querySelector(".js-btnSearch"),p=document.querySelector(".js-btnReset");document.querySelector(".js-main");const c=document.querySelector(".js-result"),r=document.querySelector(".js-favourites");document.querySelector(".js-result-list");document.querySelector(".js-favourites-list");const u="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",m="https://www.google.com/url?sa=i&url=https%3A%2F%2Fdicesabajio.com.mx%2Fproducto%2Facs-h-cp-ext%2F&psig=AOvVaw3VrQMv7il9E_7zucN_dyHi&ust=1705693883154000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCPi7hYXb54MDFQAAAAAdAAAAABAI";let a=[],s=[];function d(t){r.innerHTML="";for(const e of t){let i=document.createElement("li");i.setAttribute("class","newSerie favSerie"),i.setAttribute("id",e.mal_id),r.appendChild(i);let n=e.images.jpg.image_url;i.innerHTML=`<img class='imgFav' src='${n}' alt='Serie cover' > <p class='textFav'>${e.title}</p> <i class="fa-solid fa-trash js-remove bin"></i> `,n===u&&(n=m),localStorage.setItem("favourites",JSON.stringify(t)),I()}}function g(t){const e=parseInt(t.currentTarget.id),i=a.find(o=>e===o.mal_id),n=s.findIndex(o=>o.mal_id===e);n===-1?s.push(i):s.splice(n,1),console.log(s),d(s),f(a)}function h(){const t=document.querySelectorAll(".js-newSerie");for(const e of t)e.addEventListener("click",g)}function f(t){c.innerHTML="";for(const e of t){let i=document.createElement("li");i.setAttribute("class","newSerie js-newSerie"),i.setAttribute("id",e.mal_id),c.appendChild(i);let n=e.images.jpg.image_url;n===u&&(n=m),s.findIndex(v=>v.mal_id===e.mal_id)!==-1?i.innerHTML=`<img class="selected" src='${n}' alt='Serie cover'> <p class="selectedText">${e.title}</p>`:i.innerHTML=`<img class='img' src='${n}' alt='Serie cover'> <p class='text'>${e.title}</p>`,h()}}function A(){let t=l.value.toLowerCase();fetch(`https://api.jikan.moe/v4/anime?
  q=${t}`).then(e=>e.json()).then(e=>{a=e.data,l.value="",f(a)})}function L(){const t=JSON.parse(localStorage.getItem("favourites"));t&&(r.classList.remove("hidden"),s=t,d(s))}function j(t){t.preventDefault(),c.classList.remove("hidden"),r.classList.remove("hidden"),A()}S.addEventListener("click",j);L();function F(t){r.innerHTML="";const e=parseInt(t.currentTarget.parentNode.id),i=s.findIndex(n=>n.mal_id===e);s.splice(i,1),d(s)}function I(){const t=document.querySelectorAll(".js-remove");for(const e of t)e.addEventListener("click",F)}function x(t){t.preventDefault(),s=[],r.innerHTML="",c.innerHTML="",l.value="",c.classList.add("hidden"),r.classList.add("hidden"),localStorage.removeItem("favourites")}p.addEventListener("click",x);
//# sourceMappingURL=main.js.map
