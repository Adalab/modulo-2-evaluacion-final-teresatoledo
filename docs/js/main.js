const u=document.querySelector(".js-searchInput"),S=document.querySelector(".js-btnSearch"),h=document.querySelector(".js-btnReset");document.querySelector(".js-main");const c=document.querySelector(".js-result"),s=document.querySelector(".js-favourites");document.querySelector(".js-result-list");document.querySelector(".js-favourites-list");const l=document.querySelector(".js-deleteAll"),v="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",f="https://www.google.com/url?sa=i&url=https%3A%2F%2Fdicesabajio.com.mx%2Fproducto%2Facs-h-cp-ext%2F&psig=AOvVaw3VrQMv7il9E_7zucN_dyHi&ust=1705693883154000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCPi7hYXb54MDFQAAAAAdAAAAABAI";let r=[],i=[];function m(t){s.classList.remove("hidden"),l.classList.remove("hidden"),s.innerHTML="";for(const e of t){let n=e.images.jpg.image_url;s.innerHTML+=`<div class='newSerie favSerie' id='${e.mal_id}'><img class='imgFav' src='${n}' alt='Serie cover' > <p class='textFav'>${e.title}</p> <i class="fa-solid fa-trash js-remove bin"></i></div> `,n===v&&(n=f),localStorage.setItem("favourites",JSON.stringify(t)),I()}}function g(t){const e=parseInt(t.currentTarget.id),n=r.find(o=>e===o.mal_id),a=i.findIndex(o=>o.mal_id===e);a===-1?i.push(n):i.splice(a,1),console.log(i),m(i),d(r)}function p(){const t=document.querySelectorAll(".js-newSerie");for(const e of t)e.addEventListener("click",g)}function d(t){c.innerHTML="",i.length===0&&(s.classList.add("hidden"),l.classList.add("hidden"));for(const e of t){let n=e.images.jpg.image_url;n===v&&(n=f),i.findIndex(o=>o.mal_id===e.mal_id)!==-1?c.innerHTML+=`<div class='newSerie js-newSerie' id='${e.mal_id}'><img class="selected" src='${n}' alt='Serie cover'> <p class="selectedText">${e.title}</p></div>`:c.innerHTML+=`<div class='newSerie js-newSerie' id='${e.mal_id}'><img class='img' src='${n}' alt='Serie cover'> <p class='text'>${e.title}</p></div>`,p()}}function L(){let t=u.value.toLowerCase();fetch(`https://api.jikan.moe/v4/anime?
  q=${t}`).then(e=>e.json()).then(e=>{r=e.data,u.value="",d(r)})}function j(){const t=JSON.parse(localStorage.getItem("favourites"));t&&(s.classList.remove("hidden"),i=t,m(i))}function A(t){t.preventDefault(),c.classList.remove("hidden"),L()}S.addEventListener("click",A);j();function F(t){s.innerHTML="";const e=parseInt(t.currentTarget.parentNode.id),n=i.findIndex(a=>a.mal_id===e);i.splice(n,1),localStorage.removeItem("favourites"),m(i),d(r),i.length===0&&(s.classList.add("hidden"),l.classList.add("hidden"))}function I(){const t=document.querySelectorAll(".js-remove");for(const e of t)e.addEventListener("click",F)}function x(){s.innerHTML="",localStorage.removeItem("favourites"),i=[],d(r)}l.addEventListener("click",x);function y(t){t.preventDefault(),i=[],s.innerHTML="",c.innerHTML="",u.value="",c.classList.add("hidden"),s.classList.add("hidden"),l.classList.add("hidden"),localStorage.removeItem("favourites")}h.addEventListener("click",y);
//# sourceMappingURL=main.js.map
